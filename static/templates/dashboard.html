<head>
  <link rel="stylesheet" href="{{ url_for('static', path='chart.css') }}" />
  <link rel="stylesheet" href="{{ url_for('static', path='dashboard.css') }}" />

  <!-- Select2 -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script defer src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

  <!-- Favicon -->
  <link rel="icon" href="{{ url_for('static', path='favicon.ico') }}" type="image/x-icon" />

  <style>
    :root {
      --primary-color: {{ unified_color }};
      --secondary-color: {{ unified_color_secondary }};
      --primary-color-light: {{ unified_color_light }};
      --primary-color-dark: {{ unified_color_dark }};
      --text-color: {{ text_color }};
      --hero-img: url('{{ hero_img }}');
      --chatbot-background: url('{{ chatbot_background_img }}');
    }
  </style>
  <script>
    window.UNIFIED_COLOR = "{{ unified_color }}";
    window.TEXT_COLOR = "{{ text_color }}";
    window.CHATBOT_NAME = "{{ chatbot_name }}";
  </script>
</head>

<body>
  <div class="chatbot-switch">
    <button type="button" onclick="window.location.href='/'">Wichita Chatbot</button>
    <button type="button" onclick="window.location.href='/wsu'">WSU Chatbot</button>
  </div>

  <!-- Hero Section -->
  <header class="hero" id="hero" style="background: url('{{ hero_img }}') center/cover no-repeat;">
    <img src="{{ hero_overlay_img }}" alt="{{ hero_alt }}" class="hero-overlay">
  </header>

  <!-- Dashboard Container -->
  <section class="dashboard-container">
    <h1>Data Analytics Dashboard</h1>

    <!-- Search Bar -->
    <div class="search-container">
      <input type="text" id="searchTerm" placeholder="Enter search term..." />
      <button id="searchButton">Search</button>
    </div>

    <div class="input-parameters">
      <label for="limitInput">Query Limit:</label>
      <input type="number" id="limitInput" placeholder="Enter query limit" value=100 />

      <label for="radiusInput">Accuracy:</label>
      <input type="number" id="radiusInput" step="0.1" placeholder="Enter accuracy" value=0.7 />
    </div>

    <!-- Analytics Chart -->
    <div class="chart-container">
      <canvas id="analyticsChart" width="800" height="400"></canvas>
    </div>
  </section>

  <!-- Chart.js and Script -->
  <script defer src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
  <script defer src="{{ url_for('static', path='data-chart.js') }}"></script>
  <script defer>
    document.addEventListener("DOMContentLoaded", () => {
      // Bind search functionality
      const searchButton = document.getElementById("searchButton");
      if (searchButton) {
        searchButton.addEventListener("click", searchAndUpdate);
      }
    });
  </script>
</body>

</html>